{"ast":null,"code":"import { ViewContainerRef } from '@angular/core';\nimport { SocialCardType } from 'src/app/constants/social-card-type';\nimport { FbCardComponent } from '../fb-card/fb-card.component';\nimport { TwitterCardComponent } from '../twitter-card/twitter-card.component';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"vrf\"];\nexport class SocialCardComponent {\n  constructor(componentFactoryResolver) {\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.cardTypes = SocialCardType;\n  }\n  ngOnInit() {}\n  ngOnChanges(changes) {\n    if (changes.type.currentValue !== undefined) {\n      this.loadDynamicComponent(changes.type.currentValue);\n    }\n  }\n  loadDynamicComponent(type) {\n    let component;\n    switch (type) {\n      case SocialCardType.Facebook:\n        component = FbCardComponent;\n        break;\n      case SocialCardType.Twitter:\n        component = TwitterCardComponent;\n        break;\n    }\n    this.vrf.createComponent(component);\n  }\n}\nSocialCardComponent.ɵfac = function SocialCardComponent_Factory(t) {\n  return new (t || SocialCardComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver));\n};\nSocialCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SocialCardComponent,\n  selectors: [[\"app-social-card\"]],\n  viewQuery: function SocialCardComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vrf = _t.first);\n    }\n  },\n  inputs: {\n    type: \"type\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"card-container\"], [\"vrf\", \"\"]],\n  template: function SocialCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0, 1);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAMEA,gBAAgB,QAGX,eAAe;AACtB,SAASC,cAAc,QAAQ,oCAAoC;AACnE,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,oBAAoB,QAAQ,wCAAwC;;;AAO7E,OAAM,MAAOC,mBAAmB;EAI9BC,YAAoBC,wBAAkD;IAAlD,6BAAwB,GAAxBA,wBAAwB;IAD5C,cAAS,GAAGL,cAAc;EAC+C;EAEzEM,QAAQ,IAAU;EAElBC,WAAW,CAACC,OAAsB;IAChC,IAAIA,OAAO,CAACC,IAAI,CAACC,YAAY,KAAKC,SAAS,EAAE;MAC3C,IAAI,CAACC,oBAAoB,CAACJ,OAAO,CAACC,IAAI,CAACC,YAAY,CAAC;;EAExD;EAEAE,oBAAoB,CAACH,IAAoB;IACvC,IAAII,SAAS;IACb,QAAQJ,IAAI;MACV,KAAKT,cAAc,CAACc,QAAQ;QAC1BD,SAAS,GAAGZ,eAAe;QAC3B;MACF,KAAKD,cAAc,CAACe,OAAO;QACzBF,SAAS,GAAGX,oBAAoB;QAChC;IAAM;IAEV,IAAI,CAACc,GAAG,CAACC,eAAe,CAACJ,SAAS,CAAC;EACrC;;;mBAzBWV,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAAe;EAAAC;IAAA;6BAEJpB,gBAAgB;;;;;;;;;;;;;;;;MCrB5CqB,4BAAuC","names":["ViewContainerRef","SocialCardType","FbCardComponent","TwitterCardComponent","SocialCardComponent","constructor","componentFactoryResolver","ngOnInit","ngOnChanges","changes","type","currentValue","undefined","loadDynamicComponent","component","Facebook","Twitter","vrf","createComponent","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/Users/jonasgacrama/work/angular/start_here/ng-dynamic-components/src/app/components/social-card/social-card.component.ts","/Users/jonasgacrama/work/angular/start_here/ng-dynamic-components/src/app/components/social-card/social-card.component.html"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  Input,\n  ComponentFactoryResolver,\n  ViewChild,\n  ViewContainerRef,\n  SimpleChanges,\n  OnChanges,\n} from '@angular/core';\nimport { SocialCardType } from 'src/app/constants/social-card-type';\nimport { FbCardComponent } from '../fb-card/fb-card.component';\nimport { TwitterCardComponent } from '../twitter-card/twitter-card.component';\n\n@Component({\n  selector: 'app-social-card',\n  templateUrl: './social-card.component.html',\n  styleUrls: ['./social-card.component.scss'],\n})\nexport class SocialCardComponent implements OnInit, OnChanges {\n  @Input() type: SocialCardType;\n  @ViewChild('vrf', { read: ViewContainerRef }) vrf: ViewContainerRef;\n  cardTypes = SocialCardType;\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) {}\n\n  ngOnInit(): void {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.type.currentValue !== undefined) {\n      this.loadDynamicComponent(changes.type.currentValue);\n    }\n  }\n\n  loadDynamicComponent(type: SocialCardType) {\n    let component;\n    switch (type) {\n      case SocialCardType.Facebook:\n        component = FbCardComponent;\n        break;\n      case SocialCardType.Twitter:\n        component = TwitterCardComponent;\n        break;\n    }\n    this.vrf.createComponent(component);\n  }\n}\n","<div class=\"card-container\" #vrf></div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}